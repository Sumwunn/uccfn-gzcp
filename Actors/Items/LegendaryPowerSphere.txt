Actor LegendaryPowerSphere : CustomInventory 16707
{
//$Category Powerups/LCA
//$Sprite GARDA0
//$Title "Legendary Power Sphere"
  Inventory.PickupMessage "You got the Legendary Power Sphere!  Now even the demons of Hell fear you now!"
  Inventory.PickupSound "legpowersphere/take"
  Inventory.UseSound "legpowersphere/use"
  Inventory.Icon "GARDZ0"
  Inventory.MaxAmount 1
  +INVBAR
  +COUNTITEM
  +INVENTORY.BIGPOWERUP
  +NOTIMEFREEZE
  +FLOAT
  +FLOATBOB
  States
  {
  Use:
    TNT1 A 0
	TNT1 A 1 A_GiveInventory("LegendaryPowerSpeed",1)
	TNT1 A 1 A_GiveInventory("LegendaryPowerFrightener",1)
	TNT1 A 1 A_GiveInventory("LegendaryPowerDoubleFiringSpeed",1)
	TNT1 A 1 A_GiveInventory("LegendaryPowerDrain",1)
	TNT1 A 1 A_GiveInventory("LegendaryPowerSphereEffect",1)	
    Stop  	
  Spawn:
    GARD ABCDABCDABCDABCD 6 Bright A_CustomMissile ("LegendarySphereFlameSpawner", -20, 0, random(0,-360), 2, random(0,360)) 
	GARD ABCDABCD 4 Bright  A_CustomMissile ("LegendarySphereFlameSpawner", -20, 0, random(0,-360), 2, random(0,360)) 
	Loop
  }
}

Actor LegendaryPowerSpeed : PowerupGiver
{
  Inventory.MaxAmount 0
  Powerup.Color Yellow 0.35
  Powerup.Duration -45
  Powerup.Type Speed
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    ROWL A 1 Bright
    Loop
  }
}

Actor LegendaryPowerFrightener : PowerupGiver
{
  Inventory.MaxAmount 0
  Powerup.Duration -45
  Powerup.Type Frightener
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    ROWL A 1 Bright
    Loop
  }
}

Actor LegendaryPowerDoubleFiringSpeed : PowerupGiver
{
  Inventory.MaxAmount 0
  Powerup.Duration -45
  Powerup.Type LegDoubleFiringSpeed //PowerDoubleFiringSpeed
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.ADDITIVETIME
  States
  {
  Spawn:
    ROWL A 1 Bright
    Loop
  }
}

Actor LegendaryPowerDrain : PowerupGiver
{
  Inventory.MaxAmount 0
  Powerup.Duration -45
  Powerup.Type Drain
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    ROWL A 1 Bright
    Loop
  }
}

ACTOR LegendaryYellowSparkleSpawner : BlueSparkleSpawner
{
+NOTIMEFREEZE
States
{
Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
		TNT1 AA 2 A_SpawnItemEx("LegendaryYellowStar", random(-15, 15), random(-15, 15), random(28, 44), 0, 0, 0, 0, 128)
        Stop
        }
}

ACTOR LegendaryYellowStar : YellowStar { +NOTIMEFREEZE }