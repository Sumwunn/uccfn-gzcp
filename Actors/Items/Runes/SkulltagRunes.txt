ACTOR Skulltagger : LegendaryRuneItem { }
ACTOR NoSpreadIndicator : LegendaryRuneItem { }

//Strength Rune
ACTOR NexusStrengthRune : CustomInventory 5119
{
	+FLOORCLIP
	+FLOATBOB
	+COUNTITEM
	+DONTGIB
    +INVENTORY.INVBAR
	+INVENTORY.PICKUPFLASH
	+INVENTORY.FANCYPICKUPSOUND
	Inventory.Icon "ATACRUNE"
	Inventory.Amount 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "STRENGTH RUNE!"
	Inventory.PickupAnnouncerEntry "strength"
	Tag "Strength Rune"
	States
	{
	Spawn:
	    TNT1 A 0 NoDelay A_JumpIf(ACS_NamedExecuteWithResult("TrueHardMode") == 1, "Remove")
		IDDR ABCDE 6 A_CustomMissile ("LegendaryRedParticleSpawner", 0, 0, random(0,-360), 2, random(0,360))
		Loop
	Pickup:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("NexusStrengthRuneToken",1,"Nope") 
		TNT1 A 0 A_GiveInventory("NexusStrength",1)
		TNT1 A 0 A_GiveInventory("NexusStrengthRuneToken",1)
		TNT1 A 0 A_GiveInventory("NexusStrengthRuneToggle",1)
		TNT1 A 0 A_GiveInventory("Skulltagger",1)
		Stop
	Nope:
		IDDR A 1
		Fail
	Remove:
	    TNT1 A 0
	    Stop
	}
}

ACTOR NexusStrength : PowerDamage 
{
	+INVENTORY.HUBPOWER
	+INVENTORY.PERSISTENTPOWER
    Powerup.Duration 0x7FFFFFFF
    DamageFactor "normal", 2.5
}

ACTOR NexusStrengthRuneToken : LegendaryRuneItem { }
ACTOR NexusStrengthRuneToggle : LegendaryRuneItem { }


//High Jump Rune
ACTOR NexusHighJumpRune : CustomInventory 5111
{
	+FLOORCLIP
	+FLOATBOB
	+COUNTITEM
	+DONTGIB
    +INVENTORY.INVBAR
	+INVENTORY.PICKUPFLASH
	+INVENTORY.FANCYPICKUPSOUND
	Inventory.Icon "JUMPRUNE"
	Inventory.Amount 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "HIGH JUMP RUNE!"
	Inventory.PickupAnnouncerEntry "highjump"
	Tag "High Jump Rune"
	States
	{
	Spawn:
	    TNT1 A 0 NoDelay A_JumpIf(ACS_NamedExecuteWithResult("TrueHardMode") == 1, "Remove")
		IHJR ABCD 6 A_CustomMissile ("LegendaryGreenPowerLineSpawner", 0, 0, random(0,-360), 2, random(0,360))
		Loop
	Pickup:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("NexusHighJumpRuneToken",1,"Nope")
		TNT1 A 0 A_GiveInventory("NexusJumper",1)
		TNT1 A 0 A_GiveInventory("NexusHighJumpRuneToken",1)
		TNT1 A 0 A_GiveInventory("NexusHighJumpRuneToggle",1)
		TNT1 A 0 A_GiveInventory("Skulltagger",1)
	    Stop
	Nope:
		IHJR A 1
		Fail
	Remove:
	    TNT1 A 0
	    Stop
	}
}

ACTOR NexusJumper : PowerHighJump 5111
{
	+INVENTORY.HUBPOWER
	+INVENTORY.PERSISTENTPOWER
    +NOTIMEFREEZE
    Powerup.Duration 0x7FFFFFFF
	Powerup.Strength 2.25
}

ACTOR NexusHighJumpRuneToken : LegendaryRuneItem { }
ACTOR NexusHighJumpRuneToggle : LegendaryRuneItem { }


//Resistance Rune
ACTOR NexusResistanceRune : CustomInventory 5115
{
	+FLOORCLIP
	+FLOATBOB
	+COUNTITEM
	+DONTGIB
    +INVENTORY.INVBAR
	+INVENTORY.PICKUPFLASH
	+INVENTORY.FANCYPICKUPSOUND
	Inventory.Icon "PROTECRN"
	Inventory.Amount 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "RESISTANCE RUNE!"
	Inventory.PickupAnnouncerEntry "resistance"
	Tag "Resistance Rune"
	States
	{
	Spawn:
	    TNT1 A 0 NoDelay A_JumpIf(ACS_NamedExecuteWithResult("TrueHardMode") == 1, "Remove")
		IRSR ABCDEFGH 6 A_CustomMissile ("LegendaryGreenParticleSpawner", 0, 0, random(0,-360), 2, random(0,360))
		Loop
	Pickup:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("NexusResistanceRuneToken",1,"Nope")
		TNT1 A 0 A_GiveInventory("NexusResistance",1)
		TNT1 A 0 A_GiveInventory("NexusResistanceRuneToken",1)
		TNT1 A 0 A_GiveInventory("NexusResistanceRuneToggle",1)
		TNT1 A 0 A_GiveInventory("Skulltagger",1)
	    Stop
	Nope:
		IRSR A 1
		Fail
	Remove:
	    TNT1 A 0
	    Stop
	}
}

ACTOR NexusResistance : PowerProtection 
{
	+INVENTORY.HUBPOWER
	+INVENTORY.PERSISTENTPOWER
    +NOTIMEFREEZE
    Powerup.Duration 0x7FFFFFFF
	+NORADIUSDMG
	+DONTRIP
	+DONTSQUASH
	DamageFactor "normal", 0.45
}

ACTOR NexusResistanceRuneToken : LegendaryRuneItem { }
ACTOR NexusResistanceRuneToggle : LegendaryRuneItem { }

//Spread Rune
ACTOR NexusSpreadRune : CustomInventory 5116
{
	+FLOORCLIP
	+FLOATBOB
	+COUNTITEM
	+DONTGIB
    +INVENTORY.INVBAR
	+INVENTORY.PICKUPFLASH
	+INVENTORY.FANCYPICKUPSOUND
	Inventory.Icon "SPRDRUNE"
	Inventory.Amount 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "SPREAD RUNE!"
	Inventory.PickupAnnouncerEntry "spread"
	Tag "Spread Rune"
	States
	{
	Spawn:
	    TNT1 A 0 NoDelay A_JumpIf(ACS_NamedExecuteWithResult("TrueHardMode") == 1, "Remove")
		SPXR ABCD 6 A_CustomMissile ("GoldParticleSpawner", 0, 0, random(0,-360), 2, random(0,360))
		Loop
	Pickup:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("NexusSpreadRuneToken",1,"Nope")
		TNT1 A 0 A_JumpIfInventory("TalismanPower",1,"Nope")
		TNT1 A 1 A_TakeInventory("NexusSpread",1)
		TNT1 A 0 A_GiveInventory("NexusSpread",1)
		TNT1 A 0 A_GiveInventory("NexusSpreadRuneToken",1)
		TNT1 A 0 A_GiveInventory("NexusSpreadRuneToggle",1)
		TNT1 A 0 A_GiveInventory("Skulltagger",1)
		Stop
	Nope:
		SPXR A 1
		Fail
	Remove:
	    TNT1 A 0
	    Stop
	}
}

actor NexusSpread : Powerup
{
	+INVENTORY.HUBPOWER
	+INVENTORY.PERSISTENTPOWER
    +NOTIMEFREEZE
    Powerup.Duration 0x7FFFFFFF
}

ACTOR NexusSpreadRuneToken : LegendaryRuneItem { }
ACTOR NexusSpreadRuneToggle : LegendaryRuneItem { }

//Spawners
ACTOR NexusSpreadRuneSpawner
{
Radius 24
Height 8
Speed 17
Monster
-SHOOTABLE
-COUNTKILL
-SOLID
States
{
   Spawn:
    TNT1 A 0
   Death:
    TNT1 A 5 A_SpawnItemEx("NexusSpreadRune",10,5,50,8,0,10,random(0,360),0,0)
	TNT1 A 1 A_Fall
	Stop
	}
}

ACTOR NexusHighJumpRuneSpawner
{
Radius 24
Height 8
Speed 17
Monster
-SHOOTABLE
-COUNTKILL
-SOLID
States
{
   Spawn:
    TNT1 A 0
   Death:
    TNT1 A 5 A_SpawnItemEx("NexusHighJumpRune",10,5,50,8,0,10,random(0,360),0,0)
	TNT1 A 1 A_Fall
	Stop
	}
}

ACTOR NexusStrengthRuneSpawner
{
Radius 24
Height 8
Speed 17
Monster
-SHOOTABLE
-COUNTKILL
-SOLID
States
{
   Spawn:
    TNT1 A 0
   Death:
    TNT1 A 5 A_SpawnItemEx("NexusStrengthRune",10,5,50,8,0,10,random(0,360),0,0)
	TNT1 A 1 A_Fall
	Stop
	}
}

ACTOR NexusResistanceRuneSpawner
{
Radius 24
Height 8
Speed 17
Monster
-SHOOTABLE
-COUNTKILL
-SOLID
States
{
   Spawn:
    TNT1 A 0
   Death:
    TNT1 A 5 A_SpawnItemEx("NexusResistanceRune",10,5,50,8,0,10,random(0,360),0,0)
	TNT1 A 1 A_Fall
	Stop
	}
}