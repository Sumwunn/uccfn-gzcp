ACTOR NuclearRocketCharge2 : Ammo replaces NuclearRocketCharge
{
+IGNORESKILL
Inventory.Amount 0
Inventory.MaxAmount 2
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 2
Inventory.Icon "NUKYA0"
}

//Grenade explosion
ACTOR ThrownGrenade3 : ThrownGrenade Replaces Throwngrenade2
{
Height 2
Radius 2
Speed 36
Scale 0.4
WallBounceFactor 0.16
BounceFactor 0.36
Gravity 0.6
Mass 400
Damage 8
+MISSILE
+DROPOFF
-MOVEWITHSECTOR
+THRUSPECIES
+DONTFALL
+CANBOUNCEWATER
+DOOMBOUNCE
+NOTELEPORT
+FORCERADIUSDMG
-EXTREMEDEATH
-NODAMAGETHRUST
-GRENADETRAIL
-ROCKETTRAIL
+DONTHARMSPECIES
+DONTHARMCLASS
Species "Player"
DamageType "Explosion"
SeeSound "weapons/hgrenadebounce"
Obituary "%o was fragged by %k's hand grenade."
States
	{
	Spawn:
		TNT1 AAA 0 A_StopSound
		HGN1 A 3
		HGN1 B 3 A_GiveInventory("GrenadeTime",1)
		HGN1 C 3 A_GiveInventory("GrenadeTime",1)
		HGN1 D 3 A_GiveInventory("GrenadeTime",1)
		HGN1 E 3 A_GiveInventory("GrenadeTime",1)
		HGN1 F 3 A_GiveInventory("GrenadeTime",1)
		HGN1 G 3 A_GiveInventory("GrenadeTime",1)
		HGN1 H 3 A_GiveInventory("GrenadeTime",1)
		HGN1 A 3 A_GiveInventory("GrenadeTime",1)
		HGN1 B 3 A_GiveInventory("GrenadeTime",1)
		HGN1 C 3 A_GiveInventory("GrenadeTime",1)
		HGN1 D 3 A_GiveInventory("GrenadeTime",1)
		HGN1 E 3 A_GiveInventory("GrenadeTime",1)
		HGN1 F 3 A_GiveInventory("GrenadeTime",1)
		HGN1 G 3 A_GiveInventory("GrenadeTime",1)
		HGN1 H 3 A_GiveInventory("GrenadeTime",1)
		HGN1 A 3 A_GiveInventory("GrenadeTime",1)
		HGN1 B 3 A_GiveInventory("GrenadeTime",1)
		HGN1 C 3 A_GiveInventory("GrenadeTime",1)
		HGN1 D 3 A_GiveInventory("GrenadeTime",1)
		HGN1 E 3 A_GiveInventory("GrenadeTime",1)
		//HGN1 F 3 A_GiveInventory("GrenadeTime",1)
		//HGN1 G 3 A_GiveInventory("GrenadeTime",1)
		//HGN1 H 3 A_GiveInventory("GrenadeTime",1)
		Goto Death
	Crash:
	Death:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag(MOVEWITHSECTOR,1)
		HGN1 H 1
		HGN1 H 1 A_GiveInventory("GrenadeTime",1)
		HGN1 H 1 A_JumpIfInventory("GrenadeTime",20,"XDeath")
		Goto Death+2
	XDeath:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("GrenadeExploded",1,"NoExplosion")
		HGN1 H 1 Bright A_ChangeFlag(EXTREMEDEATH,1)
		TNT1 A 0 A_NoBlocking
		TNT1 A 0 A_Explode(100,150,XF_HURTSOURCE,0)
		TNT1 A 0 Radius_Quake(2,24,0,15,0)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("GrenadeExploded",1)
		TNT1 A 0 A_PlaySound("weapons/hgrenadeex",CHAN_BODY)
		TNT1 A 0 A_SpawnItemEx("OrangeParticleSpawner",0,0,0,0,0,0,0,128)
		TNT1 AAA 0 Bright A_CustomMissile("Kaboom3",0,0,random(0,360),2,random(0,360))
		TNT1 AAA 0 Bright A_CustomMissile("SmokeFX2",0,0,random(0,360),2,random(0,360))
		TNT1 AAAA 0 Bright A_SpawnItemEx("Debris",0,0,0,Random(4,-4),Random(4,-4),Random(4,8),0,SXF_CLIENTSIDE,0)
		TNT1 A 1 Bright A_SpawnItem("RocketEx")
		TNT1 A 0 A_Explode(200,300,0,0)
		TNT1 A 0 A_PlaySound("Explosion",CHAN_WEAPON)
		TNT1 A 0 A_PlaySound("FAREXPL",CHAN_VOICE)
		TNT1 AAA 1 Bright A_SpawnItemEx("RocketEx",0,0,0,Random(4,-4),Random(4,-4),Random(4,8),0,SXF_CLIENTSIDE,0)
		TNT1 A 48 Bright
	NoExplosion:
		TNT1 A 1
		Stop
	}
}

ACTOR GrenadeExploded : Inventory {Inventory.Maxamount 1}

//Hibachi
ACTOR Kazumi_Hibachi2 : Kazumi_Hibachi Replaces Kazumi_Hibachi
{
tag "\c[l5]Hibachi!!\c-"
DropItem "DemonicChalice" 256
DropItem "SkullOfPower" 256
DropItem "TrueLegendaryRune" 64 1
Dropitem "Legendary BFG" 255
Dropitem "LDemonAmmoBox" 255
Dropitem "Truelegendarybfgupgrade" 128
Dropitem "TrueLegendaryUltraSphere" 128
Dropitem "TrueLegAmmoSphere" 128 //TXS
Dropitem "TrueLegTimeFreezeSphere" 128 //TXS
DropItem "TrueLegendaryArmor" 128
DropItem "BossArmorBonusMax", 256, 32
DropItem "BossLifeEssence", 256
DropItem "BossArmorBonusMax", 256, 32
DropItem "BossLifeEssence", 256
DropItem "LegendaryPowerSphere" 96
Dropitem "LegendaryPowerShard" 96
DamageFactor "TrueLegendaryDamage", 0.0
DamageFactor "TrueLegendaryPlayer", 0.0
}

//DOOM
ACTOR Kazumi_EvaccanniaDOOM2 : Kazumi_EvaccanniaDOOM Replaces Kazumi_EvaccanniaDOOM
{
Tag "\c[w2]Evaccannia DOOM!!"
Dropitem "ArmageddonCannon" 80 1
Dropitem "NuclearRocket" 256 1
Dropitem "NuclearRocket" 192 1
Dropitem "NuclearRocket" 70 1
Dropitem "EnragedLegendaryPowerShard" 256 1
}

//Kaguya
ACTOR Kazumi_LegendaryKaguyaHealth : Kazumi_KaguyaHouraisan Replaces Kazumi_LegendaryKaguya
{
//Enemy Name: Legendary Kaguya Houraisan
//Monster Tier: Pinky Demon
//Enemy Tier: Legendary (Touhou)
//Difficulty: Insane (SURPRISE! 8/10)
  Health 3000
  Painchance 16
  Obituary "%o died when %g saw Legendary Kaguya's beautiful barrage of danmaku."
  tag "\c[z3]Legendary Kaguya"
	DamageFactor "SuperWeapon", 0.0
	DamageFactor "Extreme", 0.0
	DamageFactor "SatanGuard", 0.1
	DamageFactor "AbyssalSatyr", 0.1
	DamageFactor "Moloch", 0.1
	DamageFactor "Exos", 0.2
	DamageFactor "ZombieDev", 0.1
	DamageFactor "Terminator", 0.1
	DamageFactor "AdvancedImp", 0.1
	DamageFactor "Legendary1", 0.1
	DamageFactor "LegendaryGuru", 0.1
	DamageFactor "UltimateLegendary", 0.0
	DamageFactor "Nobles", 0.1
	DamageFactor "VileFires", 0.1
	DamageFactor "Shadow", 0.1
	DamageFactor "DarkBruiserBFG10K", 0.1
	DamageFactor "Cybers", 0.1
	DamageFactor "Hell", 0.1
	DamageFactor "Commander", 0.1
	DamageFactor "Baby15K", 0.1
	DamageFactor "Cyber10K", 0.1
	DamageFactor "DemolisherEx", 0.1
	DamageFactor "DarkDemoEx", 0.1
	DamageFactor "CerChainguns", 0.1
	DamageFactor "CerEnergyBall", 0.1
	DamageFactor "LegMind", 0.1
	DamageFactor "BeheComet", 0.1
	DamageFactor "UBDTR", 0.1
	DamageFactor "NobleComet", 0.1
	DamageFactor "CacoComet", 0.1
	DamageFactor "SoulToxic", 0.1
	DamageFactor "Cacolich", 0.1
	DamageFactor "CadaverRocket", 0.1
	DamageFactor "HellComet", 0.1
	DamageFactor "HFCyber", 0.1
	DamageFactor "DBFG2", 0.1
	DamageFactor "DBFG10K2", 0.1
	DamageFactor "DBFGSplash2", 0.1
	damagefactor "Terminator", 0.01
	damagefactor "T3rm", 0.01
	damagefactor "Term", 0.1
  dropitem "LegendaryRune", 128
  DropItem "LDemonAmmoBox" 200 
  DropItem "LDemonAmmoBox" 200 
  DropItem "LDemonAmmo" 250 
  DropItem "LDemonAmmo" 250 
  dropitem "Legendary Revolver", 48
  dropitem "Legendary Assault Shotgun", 48
  dropitem "Legendary Sawed-Off Shotgun", 48
  dropitem "Legendary Light Machine Gun", 48
  dropitem "Legendary Plasmatic Cannon", 48
  dropitem "Legendary Plasmatic Rifle", 48
  dropitem "Legendary BFG 10K", 48
  dropitem "Legendary BFG", 24
  dropitem "LegendaryBossLifeEssence", 256
  dropitem "LegendaryLifeEssence", 256
  dropitem "LegendaryBossArmorBonusMax", 256
  dropitem "LegendaryArmorBonusMax", 256
  var int user_music;
  var int user_loopnuke;
  seesound ""
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("Kazumi_DisableGirls") == 1, "Remove")
  SpawnLoop:
	TNT1 A 0 ACS_NamedExecuteAlways("LegTermFireBecauseIAmLazy",0)
	TNT1 A 0 A_SetInvulnerable
	TNT1 A 0 A_ChangeFlag("NODAMAGE",1)
	TNT1 A 0 A_ChangeFlag("NOPAIN",1)
    KALI AAAAAAAAAAAAAAABBBBBCCCCCDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDCCCCCBBBBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEEEFFGGGG 1 A_LookEX(LOF_FULLVOLSEESOUND,0,0,0,360,"Prepare")
  IdleMore:
    KALI H 1 A_LookEX(LOF_FULLVOLSEESOUND,0,0,0,360,"Prepare")
	Loop
  Remove:
	TNT1 A 1
	TNT1 A 0 A_SpawnItemEx("Demon",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_ChangeFlag("COUNTKILL", FALSE)
	TNT1 A 0
	Stop
  Prepare:
	TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("Kazumi_AltGirlSightSounds") == 1,"AltSight")
	TNT1 A 0 A_PlaySound("touhou/sight",7,1.0,0,ATTN_NONE)
	goto FinishPrep
  AltSight:
  	TNT1 A 0 A_PlaySound("touhou/sorrym8",7,1.0,0,ATTN_NONE)
  FinishPrep:
	TNT1 A 0 A_UnSetInvulnerable
	TNT1 A 0 A_ChangeFlag("NODAMAGE",0)
	TNT1 A 0 A_ChangeFlag("NOPAIN",0)
    Goto See
  See:
  	TNT1 A 0 A_JumpIf(user_music == 1,3)
	TNT1 A 0 ACS_NamedExecuteAlways("StartMonsterMusic",0,814)
	TNT1 A 0 A_SetUserVar("user_music",1)
    TNT1 A 0 A_SetUserVar("user_delay",0)
	goto SeeAnim1
  SeeAnim1:
	TNT1 A 0 A_JumpIf(user_delay >= 15,"SeeAnim2")
  	KAGI A 0 A_Jump(2,"BOUNCEPAD")
    KALI A 1 A_Chase
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	loop
  SeeAnim2:
 	TNT1 A 0 A_JumpIf(user_delay >= 20,"SeeAnim3")
 	KAGI B 0 A_Jump(2,"BOUNCEPAD")
    KALI B 1 A_Chase
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	loop
  SeeAnim3:
 	TNT1 A 0 A_JumpIf(user_delay >= 25,"SeeAnim4")
 	KAGI B 0 A_Jump(2,"BOUNCEPAD")
    KALI C 1 A_Chase
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	loop
  SeeAnim4:
 	TNT1 A 0 A_JumpIf(user_delay >= 65,"SeeAnim5")
 	KAGI B 0 A_Jump(2,"BOUNCEPAD")
    KALI D 1 A_Chase
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	loop
  SeeAnim5:
 	TNT1 A 0 A_JumpIf(user_delay >= 70,"SeeAnim6")
 	KAGI B 0 A_Jump(2,"BOUNCEPAD")
    KALI C 1 A_Chase
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	loop
  SeeAnim6:
 	TNT1 A 0 A_JumpIf(user_delay >= 75,"See")
 	KAGI B 0 A_Jump(2,"BOUNCEPAD")
    KALI B 1 A_Chase
	TNT1 A 0 A_SetUserVar("user_delay",user_delay+1)
	loop
  BOUNCEPAD:
	TNT1 A 0 A_SetUserVar("user_delay",0)
	KALJ ABC 3
	KALJ D 3 A_GiveInventory("KaguyaJump",1)
	KALJ EF 3
  CheckForFloor:
	TNT1 A 0 A_JumpIf(user_delay >= 60,"Land")
    TNT1 A 0 A_SetUserVar("user_delay",user_delay+6)
	KALJ GGGHHH 1 A_CheckFloor("Land")
    Loop
  Land:	
	KALJ IJ 2 A_Stop
	Goto See
  Pain:
    KALP A 5 A_Pain
    Goto See
  Melee:
    KALM ABC 2 A_FaceTarget
	KALM D 3 A_CustomMeleeAttack(random(150,200),"touhou/kaguya/melee","touhou/kaguya/meleemiss","Touhou")
	KALM EFG 2 A_FaceTarget
    MYST A 0 A_Jump(256,"Missile")
	Goto See
  Missile:
	TNT1 A 0 A_Jump(4,"OhShit")
    MYST A 0 A_facetarget
	MYST A 0 A_Jump(256,"Attack1", "Attack2","Attack3","Attack4","Attack5")
    Goto See
  Attack1:
	KAL1 A 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku6",30,0,-50)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku5",30,0,-40)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku4",30,0,-30)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku3",30,0,-20)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku2",30,0,-10)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku1",30,0,0)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku2",30,0,10)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku3",30,0,20)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku4",30,0,30)
	KAL1 B 0 A_CustomMissile("KaguyaDanmaku5",30,0,40)
	KAL1 B 3 A_CustomMissile("KaguyaDanmaku6",30,0,50)
	KAL1 CDE 3 A_FaceTarget
	TNT1 A 0 A_Jump(192,"Attack1")
	goto see
  Attack2:
	KALJ A 5 A_FaceTarget
	KAL2 ABABABABABABABABAB 3 A_FaceTarget
	KALJ A 3 A_FaceTarget
	TNT1 A 0 Bright A_Explode(768,768,0,0)
	TNT1 A 0 Bright A_PlaySound("touhou/rekt")
	TNT1 A 0 Bright A_SpawnItemEx("PurpleDevastatorShockWave2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE)
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,18,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,36,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,54,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,72,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,90,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,108,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,126,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,144,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,144,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,162,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,180,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,196,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,216,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,234,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,252,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,270,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,288,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,306,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,324,CMF_AIMDIRECTION,random(-90,90))
	TNT1 AAA 0 Bright A_CustomMissile("ZombieCommanderDevastatorBall2",30,0,342,CMF_AIMDIRECTION,random(-90,90))
	KAL2 CDE 5 A_FaceTarget
	goto see
  Attack3:
	KAL3 AB 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,10)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,20)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,30)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,40)
	KAL3 C 3 A_CustomMissile("LegendaryProjectile",30,0,50)
	KAL3 DED 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-10)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-20)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-30)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-40)
	KAL3 C 3 A_CustomMissile("LegendaryProjectile",30,0,-50)
	KAL3 B 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,10)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,20)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,30)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,40)
	KAL3 C 3 A_CustomMissile("LegendaryProjectile",30,0,50)
	KAL3 DED 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-10)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-20)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-30)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,-40)
	KAL3 C 3 A_CustomMissile("LegendaryProjectile",30,0,-50)
	KAL3 B 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,0)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,10)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,20)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,30)
	KAL3 C 0 A_CustomMissile("LegendaryProjectile",30,0,40)
	KAL3 C 3 A_CustomMissile("LegendaryProjectile",30,0,50)
	KAL3 DEFG 3 A_FaceTarget
	goto See
  Attack4:
	KAL1 A 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-50)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-40)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,40)
	KAL1 B 3 A_CustomMissile("LegRevSmallBall3",30,0,50)
	KAL1 CDEA 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-50)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-40)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,40)
	KAL1 B 3 A_CustomMissile("LegRevSmallBall3",30,0,50)
	KAL1 CDEA 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-50)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-40)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,40)
	KAL1 B 3 A_CustomMissile("LegRevSmallBall3",30,0,50)
	KAL1 CDEA 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-50)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-40)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,40)
	KAL1 B 3 A_CustomMissile("LegRevSmallBall3",30,0,50)
	KAL1 CDEA 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-50)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-40)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,-10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,0)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,10)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,20)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,30)
	KAL1 B 0 A_CustomMissile("LegRevSmallBall3",30,0,40)
	KAL1 B 3 A_CustomMissile("LegRevSmallBall3",30,0,50)
	KAL1 CDE 3 A_FaceTarget
	goto See
  Attack5:
  	KAL3 AB 3 A_FaceTarget
	MYS2 O 0 A_Playsound("remishot",0)
	KAL3 C 3 A_CustomMissile("LegendaryProjectile",30,0,0)
	KAL3 DEFG 3 A_FaceTarget
	goto See
  OhShit:
	KALJ A 5 A_FaceTarget
	TNT1 A 0 A_PrintBold("\cgTAKE COVER!!!!!")
  OhShitLoop:
	TNT1 A 0 A_JumpIf(user_loopnuke == 10,"OhShitNuke")
	KAG2 CCC 0 A_SpawnItemEX("FakeLegCardinalThunder",10,0,0,0,0,0,random(0,360))
	KAL2 ABABABABABABABABABAB 1 A_FaceTarget
	TNT1 A 0 A_SetUserVar("user_loopnuke",user_loopnuke+1)
	loop
  OhShitNuke:
	KALJ A 3 A_FaceTarget
    TNT1 A 0 A_SpawnItem("LegendaryCardinalNuke")
    TNT1 A 0 A_Explode(8000,1642,0,1)
    TNT1 A 0 A_BFGSpray("ArcSpray",15,20)
    KAL2 C 3 
	TNT1 A 0 DamageThing(1000000)
	goto See
  Death:
	KALP C 70 A_PlaySound("uroboros/death",5,1.0,0,ATTN_NONE)
    MYST K 0 A_Scream
	TNT1 A 0 A_NoBlocking
	TNT1 AAA 0 A_SpawnItemEx("Red2huBossDeathFlame",0,0,20,random(-4,4),random(-4,4),random(0,3))
	TNT1 AAA 0 A_SpawnItemEx("Red2huBossDeathFlame3",0,0,20,random(-20,20),random(-20,20),random(0,20))
	TNT1 A 0 A_Explode(256,256,0)
	TNT1 AAA 0 A_CustomMissile("BigRedBloodCloud", random(10,80), 0, random(0,360), 2, random(0,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("2huBossDeathFlame", Random(-8,8), Random(-8,8), Random(12,80), Random(8,38), 0, Random(3,43), Random(-180,180))
	TNT1 A 15
	stop
  }
}

//Leg Chair Nerf
ACTOR Kazumi_LegendaryChairNEW : Kazumi_LegendaryChair replaces Kazumi_LegendaryChair
{
	Health 500
	Speed 0
    Radius 10
    Height 34
	Mass 0x7FFFFFFF
	PainChance 255
	Species "Chair"
	Obituary "%o got fucking destroyed by a fucking Legendary Chair that magically charges at anything it's hit by!"
	DamageFactor "Cyber10K", 0.0
	DamageFactor "PDTBFG", 0.01
	DamageFactor "PDTBFGTracer", 0.01
	DamageFactor "Legendary", 0.0
	DamageFactor "LegendaryGuru", 0.0
	DamageFactor "LegendaryGuruPlayer", 0.3
	DamageFactor "LegendaryPlayer", 0.3
	DamageFactor "BFGSplash", 0.2
	DamageFactor "BFGSpray", 0.2
	DamageFactor "CerEnergyBall", 0.0
	DamageFactor "PlayerDevBall", 0.005
	DamageFactor "PlayerDevBall2", 0.005
	DamageFactor "PlayerDTBFGRailgunSlug", 0.005
	DamageFactor "PlayerDevTracer", 0.005
	DamageFactor "DemolisherEx", 0.0
	DamageFactor "DarkDemoEx", 0.0
	DamageFactor "CerChainguns", 0.0	
	DamageFactor "CerEnergyBall", 0.0
	DamageFactor "PlayerDTRG", 0.3
	DamageFactor "DBFG10K2", 0.65
	DamageFactor "PlayerDBFG10K2", 0.65
	DamageFactor "DBFG2", 0.65
	DamageFactor "PlayerDBFG2", 0.65
	DamageFactor "PyroShot", 0.0
	DamageFactor "PlayerPyro", 0.0
	DamageFactor "PDTPuff", 0.0
	DamageFactor 0.5
	PainChance "PlayerDBFG2", 256
	PainChance "DBFG2", 256
	PainChance "PlayerDBFG10K2", 256
	DropItem "LegAmmoSphere" 64 1
	DropItem "LegendarySphere" 128 1
	DropItem "LDemonAmmoBox" 256 
	DropItem "BossLifeEssence" 256 
	DropItem "BossArmorBonusMax" 256 
	SeeSound ""
	PainSound ""
	DeathSound "legchair/death"
	ActiveSound ""
	monster
	+NORADIUSDMG
	+QUICKTORETALIATE
	-PIERCEARMOR
	+MISSILEEVENMORE
	+NOTARGET
	+BOSS
	+MISSILEMORE
	+LOOKALLAROUND
	+FLOORCLIP
	+DONTMORPH
	+BOSSDEATH
	+NOICEDEATH
	+DONTGIB
	+NOTIMEFREEZE
	+CANTSEEK
	+DONTRIP
	+NOFEAR
	+DONTHARMSPECIES
	+DONTHURTSPECIES
	+NOBLOOD
	tag "\c[z3]Legendary... Chair?"
	States
	{
	Spawn:
	    TNT1 A 0
	    TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("RawAnger") == 0,"Remove")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("kazumi_NoChair") == 1,"Remove")
	Spawnloop:
		CHAI R 1 A_Look
		TNT1 A 0 A_SpawnItemEx("LHellionSmokeSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE,64)
		Loop
    Remove:
	    TNT1 A 1
	    TNT1 A 0 A_SpawnItemEx("explosivebarrel",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	    TNT1 A 0 A_ChangeFlag("COUNTKILL", FALSE)
	    TNT1 A 0
	Stop
	See:
		CHAI R 1
		TNT1 A 0 A_SpawnItemEx("LHellionSmokeSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE,64)
		loop
	Pain:
	    TNT1 A 0 A_JumpIf(user_music == 1,3)
        TNT1 A 0 ACS_NamedExecuteAlways("StartMonsterMusic",0,820)
	    TNT1 A 0 A_SetUserVar("user_music",1)
		TNT1 A 0 A_PlaySound("ESuicide/Scream",5,1.0,1)
	CHAAAAAAAAARGE:
		TNT1 A 0 A_GiveInventory("LegSuicideJumping",1)
		TNT1 A 0 A_FaceTarget
		TNT1 A 0 A_Recoil(-5)
		CHAI R 1 A_Chase
		TNT1 A 0 A_FaceTarget
		TNT1 A 0 A_Recoil(-5)
		CHAI R 1 A_Chase
		TNT1 A 0 A_FaceTarget
		TNT1 A 0 A_Recoil(-5)
		CHAI R 1 A_Chase
		loop
	Melee:
		TNT1 A 0 A_StopSound(5)
		TNT1 A 0 A_Stop
		CHAI R 1 A_VileAttack("NULL",Random(499,999),0,64,2,"Legendary")
		//TNT1 A 0 Bright A_PlaySoundEx("legchair/crash","Voice",0,2)
		TNT1 A 0 A_SpawnItemEx("LHellionSmokeSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE,64)
		goto Death
	Death:
		TNT1 A 2 A_StopSound(5)
		TNT1 A 0 Bright Radius_Quake(7,105,0,140,0)
		TNT1 A 0 A_NoBlocking
		TNT1 AAA 0 Bright A_CustomMissile("BlueKaboom3",0,0,random(0,360),CMF_AIMDIRECTION,random(0,360))
		TNT1 AAA 0 A_CustomMissile("SmokeFX2",0,0,random(0,360),CMF_AIMDIRECTION,random(0,360))
		TNT1 AAAA 0 A_SpawnItemEx("Debris",0,0,0,Random(4,-4),Random(4,-4),Random(4,8),0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE,0)
		TNT1 A 0 Bright A_PlaySoundEx("legchair/death","Voice",0,2)
		TNT1 A 70 Bright A_SpawnItemEx("LegendaryBarrelStrike",0,0,0,0,0,0,0,SXF_CLIENTSIDE,0)
		stop
	}
}

//Shinki
ACTOR Kazumi_MakaiSlutNEW : Kazumi_MakaiSlut Replaces Kazumi_MakaiSlut
{
tag "\cgThe Goddess of Makai, \c[l3]Shinki"
States
    {
  Death:
    MYST M 70 A_PlaySound("uroboros/death",6,1.0,0,ATTN_NONE)
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_Explode(256,256,0)
    MYST K 0 A_Scream
	TNT1 AAAAAAAAAAAAAAA 0 A_SpawnItemEx("Red2huBossDeathFlame", Random(-8,8), Random(-8,8), Random(12,80), Random(8,38), 0, Random(3,43), Random(-180,180))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("2huBossDeathFlame", Random(-8,8), Random(-8,8), Random(12,80), Random(8,38), 0, Random(3,43), Random(-180,180))
	TNT1 A 175
	TNT1 A 1 A_Jump(50,"Phase2")
    Stop
  Phase2:
	//TNT1 A 0 ACS_NamedExecuteAlways("ShinkiTurnsIntoPhase2",0)
	TNT1 A 0 A_PlaySoundEx("brain/spit","Voice",0,2)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 2 A_GiveInventory("NemesisSoulEvent",1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 2 A_GiveInventory("NemesisSoulEvent",1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 2 A_GiveInventory("NemesisSoulEvent",1)
	TNT1 A 0 A_SpawnItemEx("NemesisLightning")
	MYS4 EEEEEEEEEEEE 2 Bright A_SpawnItemEx("VexedNemesisFlameSpawner")
	MYS4 F 10
	TNT1 A 0 A_SpawnItemEx("Kazumi_UndeadMakaiSlut",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0
	Stop
    }
}

//Redeemer (No Spread)
ACTOR "Armageddon Cannon" : "ArmageddonCannon" Replaces "ArmageddonCannon"
{
Weapon.SelectionOrder 2820
Weapon.UpSound "Armageddon/ready"
Weapon.AmmoType "NuclearRocketCharge"
Weapon.AmmoType2 "NuclearRocket"
Weapon.AmmoGive 2
Weapon.AmmoGive2 0
Weapon.AmmoUse 1
Weapon.Kickback 10000
Tag "Armageddon Cannon"
States
	{
	Spawn:
		NUKW A -1
		Loop
	Ready:
        TNT1 A 0
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckSpreadAbility",0)
		TNT1 A 0 A_JumpIfInventory("AgilityRuneRage",1,"ReadySlow")
	    NUKX ABCDE 2
	Ready2:
	    TNT1 A 0 ACS_NamedExecuteWithResult("CheckSpreadAbility",0)
	    TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	    NUKG A 4 A_WeaponReady
		Loop
	ReadySlow:
	    NUKX ABCDE 4
		Goto Ready2
	Select:
		TNT1 A 0 A_Raise
		wait
	Deselect:
		TNT1 A 0
		//TNT1 A 0 ACS_NamedExecuteWithResult("CheckSpreadAbility",0)
		TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
		TNT1 A 0 A_TakeInventory("MineAction",1)
		TNT1 A 0 A_TakeInventory("RailgunAction",1)
        TNT1 A 0 A_TakeInventory("NoSpreadIndicator",1)
		TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    Deselectloop:
		NUKG A 1 A_Lower
	    Loop
	Fire:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("ArmageddonCannonMode",1,"Fire2")
		TNT1 A 0 A_JumpIfNoAmmo("Empty")
		TNT1 A 0 A_JumpIfInventory("NuclearRocketCharge",1,1)
		Goto Empty
		//NUKG A 3
		//NUKZ A 2 A_PlayWeaponSound("weapons/nuclearmissilecharge")
		//NUKZ A 1 A_PlayWeaponSound("redeemer/fire")
	    TNT1 A 0 A_TakeInventory("NexusSpread",1)
		NUKZ A 1 A_PlayWeaponSound("Armageddon/blast")
		TNT1 A 0 A_PlaySound("Armageddon/fire",5,1.0,0,ATTN_NONE)
		NUKZ A 0 A_GunFlash
		TNT1 A 0 A_Recoil(5)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_FireCustomMissile("NuclearMissileShot",0,0,4,4)
		TNT1 A 0 A_TakeInventory("NuclearRocketCharge",1)
		NUKZ B 3 Bright A_Recoil(-4.5)
	    TNT1 A 0 A_GiveInventory("NexusSpread",1)
		NUKZ BCDEFGHI 2 Bright
		NUKZ I 28
		NUKZ IHG 3
		TNT1 A 0 A_ReFire
		Goto Ready2
	Fire2:
		TNT1 A 0
		TNT1 A 0 A_JumpIfNoAmmo("Empty")
		//TNT1 A 0 A_JumpIfInventory("RedeemerRocketCharge",2,"youfailed")
		TNT1 A 0 A_JumpIfInventory("NuclearRocketCharge",2,1)
		Goto NotEnoughBoom
		//NUKG A 3
		//NUKZ A 2 A_PlayWeaponSound("weapons/nuclearmissilecharge")
		//NUKZ A 1 A_PlayWeaponSound("redeemer/fire")
	    TNT1 A 0 A_TakeInventory("NexusSpread",1)
		NUKZ A 1 A_PlayWeaponSound("Armageddon/blast")
		TNT1 A 0 A_PlaySound("Armageddon/fire",5,1.0,0,ATTN_NONE)
		NUKZ A 0 A_GunFlash
		TNT1 A 0 A_Recoil(5)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_FireCustomMissile("Kazumi_NukeRocket",0,0,4,4)
		TNT1 A 0 A_TakeInventory("NuclearRocketCharge",2)
		NUKZ B 3 Bright A_Recoil(-4.5)
	    TNT1 A 0 A_GiveInventory("NexusSpread",1)
		NUKZ BCDEFGHI 2 Bright
		NUKZ I 28
		NUKZ IHG 3
		TNT1 A 0 A_ReFire
		Goto Ready2
	Hold:
		NUKG A 1 A_WeaponReady(WRF_NOFIRE)
		TNT1 A 0 A_ReFire
		Goto Ready2
	Empty:
		NUKG A 15 A_PlayWeaponSound("weapons/click3")
		Goto Ready2
	AltFire:
		TNT1 A 0 A_JumpIfInventory("NuclearRocketCharge",2,"Ready2")
		TNT1 A 0 A_JumpIfInventory("NuclearRocket",1,"Reload")
		Goto Ready2
	Reload:
		NUKX EDCB 4
		NUKX B 10
		//NUKX B 10 A_PlayWeaponSound("weapons/nuclearmissilereload")
		//NUKX BCDE 4
	ReloadLoop:
		TNT1 A 0 A_TakeInventory("NuclearRocket",1)
		TNT1 A 0 A_GiveInventory("NuclearRocketCharge",1)
		TNT1 A 0 A_JumpIfInventory("NuclearRocketCharge",2,"Full")
		TNT1 A 0 A_JumpIfInventory("NuclearRocket",1,"ReloadLoop")
	Full:
	    NUKX B 10 A_PlayWeaponSound("weapons/nuclearmissilereload")
		NUKX BCDE 4
		NUKG A 35
		Goto AltFire
	Zoom:
	    TNT1 A 0 A_TakeInventory("RailgunAction",1)
	    ChangeMode:
	    TNT1 A 0 A_JumpIfInventory("ArmageddonCannonMode",1,"ChangeMode2")
	    TNT1 A 0 A_Print("Big explosion",1)
	    TNT1 A 0 A_GiveInventory("ArmageddonCannonMode")
	    NUKG A 4 A_PlayWeaponSound("Armageddon/mode")
	    NUKG A 2 Offset(0,34)
	    NUKG A 2 Offset(0,37)
		NUKG A 2 Offset(0,40)
		NUKG A 2 Offset(0,37)
	    NUKG A 2 Offset(0,34)
	    NUKG A 1
	    Goto Ready2
	ChangeMode2:
	    TNT1 A 0 A_Print("Basic explosion",1)
	    TNT1 A 0 A_TakeInventory("ArmageddonCannonMode")
	    NUKG A 4 A_PlayWeaponSound("Armageddon/mode")
	    NUKG A 2 Offset(0,34)
	    NUKG A 2 Offset(0,37)
	    NUKG A 2 Offset(0,34)
		NUKG A 1
	    Goto Ready2
	NotEnoughBoom:
	    TNT1 A 0 A_Print("You need 2 missiles loaded in your gun",2)
	    NUKG A 15 A_PlayWeaponSound("weapons/click3")
	    goto ready2
	}
}

//Redeemer Missile
Actor NuclearMissileExplosion2 : NuclearMissileShot Replaces NuclearMissileExplosion
{
Speed 0
Damagetype "explosion"
States
	{
	Spawn:
		TNT1 A 0 Bright
		TNT1 A 0 Bright A_Die
		Goto Death
	Death:
		TNT1 A 0 Bright
		TNT1 A 1 Bright A_Explode(500,1200,true,true,666)
		TNT1 A 1 Bright A_SpawnItemEx("PlayerNuke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_SETMASTER)
		TNT1 A 0 Bright A_SetUserVar("user_lcounter",0)
		TNT1 A 0 Bright A_Blast(BF_DONTWARN,225,1000,30)
		Goto NuclearFireLoop
	NuclearFireLoop:
		TNT1 A 1 Bright A_CustomMissile("NuclearMissileShotEx",0,0,user_lcounter*20,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 Bright A_CustomMissile("NuclearMissileShotEx2",0,0,user_lcounter*20,CMF_AIMDIRECTION|CMF_TRACKOWNER,45)
		TNT1 A 0 Bright A_CustomMissile("NuclearMissileShotEx2",0,0,user_lcounter*20,CMF_AIMDIRECTION|CMF_TRACKOWNER,-45)
		TNT1 A 0 Bright A_CustomMissile("NuclearMissileShotEx2",0,0,360-(user_lcounter*20),CMF_AIMDIRECTION|CMF_TRACKOWNER,45)
		TNT1 A 0 Bright A_CustomMissile("NuclearMissileShotEx2",0,0,360-(user_lcounter*20),CMF_AIMDIRECTION|CMF_TRACKOWNER,-45)
		//TNT1 AAA 0 Bright A_SpawnItemEx("HemNuclearFlare",random(-150,150),random(-150,150),random(0,10),random(0,8),random(0,8),2,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_SETMASTER,96)
		TNT1 A 0 Bright A_SetUserVar("user_lcounter",user_lcounter+1)
		TNT1 A 0 Bright A_JumpIf(user_lcounter < 7 ,"NuclearFireLoop")
		TNT1 A 1 Bright
		Stop
	}
}

Actor NexusNuclearMissileShotEx : NuclearMissileShot Replaces NuclearMissileShotEx
{
Renderstyle None
-FOILINVUL
-NOCLIP
+NODAMAGETHRUST
Speed 20
Damagetype "Explosion"
Obituary "%o was burned by in nuclear fire."
States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAAAAAA 2 A_Explode(250,1000,true,0,333)
	Death:
		TNT1 A 1
		TNT1 A 1 A_Explode(150,1000,true,0,166)
		//TNT1 AAA 1 A_CustomMissile("HemNuclearFlare2",0,0,random(0,360),2,random(-90,90))
		TNT1 A 1
		Stop
	}
}

Actor NexusNuclearMissileShotEx2 : NuclearMissileShot Replaces NuclearMissileShotEx2
{
Renderstyle None
Speed 20
-FOILINVUL
-NOCLIP
+NODAMAGETHRUST
Damagetype "Explosion"
Obituary "%o was burned by in nuclear fire."
States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAAAAAA 2 A_Explode(250,1000,true,0,333)
	Death:
		TNT1 A 1
		TNT1 A 1 A_Explode(150,1000,true,0,166)
		TNT1 A 1
		Stop
	}
}

Actor KazumiNuclearMissileShotEx : NuclearMissileShot
{
Renderstyle None
-FOILINVUL
-NOCLIP
+NODAMAGETHRUST
Speed 20
Damagetype "Normal"
Obituary "%o was burned by in nuclear fire."
States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAAAAAA 2 A_Explode(500,5000,true,0,333)
	Death:
		TNT1 A 1
		TNT1 A 1 A_Explode(350,3000,true,0,166)
		//TNT1 AAA 1 A_CustomMissile("HemNuclearFlare2",0,0,random(0,360),2,random(-90,90))
		TNT1 A 1
		Stop
	}
}

Actor KazumiNuclearMissileShotEx2 : NuclearMissileShot
{
Renderstyle None
Speed 20
-FOILINVUL
-NOCLIP
+NODAMAGETHRUST
Damagetype "Normal"
Obituary "%o was burned by in nuclear fire."
States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAAAAAA 2 A_Explode(500,5000,true,0,333)
	Death:
		TNT1 A 1
		TNT1 A 1 A_Explode(350,3000,true,0,166)
		TNT1 A 1
		Stop
	}
}

ACTOR Kazumi_NewNukeRocket : Kazumi_NukeRocket Replaces Kazumi_NukeRocket
{
   States
   {
   Spawn:
		TNT1 A 0 A_JumpIf(user_flytime >= 110,2) //140.2
		TNT1 A 0 A_ScaleVelocity(1.1) //1.02
		TNT1 A 0 A_SetUserVar("user_flytime",user_flytime+1)
		YAMG A 0 A_PlaySound("redeemer/active",5,1.0,1,ATTN_NONE)
		TNT1 A 0 Bright A_CustomMissile("MissileTrail",Random(-2,2),Random(-2,2)) 
		TNT1 A 0 Bright A_CustomMissile("ProjectileTrailParticleOrange",Random(-2,2),Random(-2,2)) 
		NKS1 A 1 Bright A_CustomMissile("PlayerNuclearMissileTrail",0,0,0)
		loop
   Death:
		TNT1 A 0
		NKS1 A 56 //A_PlaySound("kazumi/nuke/WTFBOOM",5,1.0,0,ATTN_NONE)
		goto Nuke
	BOOM:
	    TNT1 A 0
		TNT1 A 0 A_StopSound(5)
		TNT1 A 0 A_PlaySound("redeemer/explosion",5,1.0,0,ATTN_NONE)
		goto Nuke
	Nuke:
		TNT1 A 0 A_CustomBulletAttack(0,0,1,7000,"BulletPuff",128,CBAF_AIMFACING) //DAAAAAAAAAAAAAMN.
		TNT1 A 0 A_PlaySound("redeemer/explosion",5,1.0,0,ATTN_NONE)
		//Range is 64 units to do 7k damage to the actor it hits.
		TNT1 A 0 Bright A_GiveToTarget("NuclearShield",1)
		TNT1 A 0 Bright A_GiveToTarget("VulnerabilityQuiet",1)
		//TNT1 A 0 Bright A_GiveToTarget("VulnerabilityQuiet",1)
		TNT1 A 1 Bright A_Explode(10000,3600,true,true,666)
		TNT1 A 0 Bright A_Blast(BF_DONTWARN,225,1000,30)
		//TNT1 A 0 A_Explode(10000000,1000,0,1)
		TNT1 A 0 A_SpawnItemEX("NewDOOKNOOKMsilent",0,0,0,0,0,0,0)
	    TNT1 A 1 Bright A_CustomMissile("KazumiNuclearMissileShotEx",0,0,user_lcounter*20,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 Bright A_CustomMissile("KazumiNuclearMissileShotEx2",0,0,user_lcounter*20,CMF_AIMDIRECTION|CMF_TRACKOWNER,45)
		TNT1 A 0 Bright A_CustomMissile("KazumiNuclearMissileShotEx2",0,0,user_lcounter*20,CMF_AIMDIRECTION|CMF_TRACKOWNER,-45)
		TNT1 A 0 Bright A_CustomMissile("KazumiNuclearMissileShotEx2",0,0,360-(user_lcounter*20),CMF_AIMDIRECTION|CMF_TRACKOWNER,45)
		TNT1 A 0 Bright A_CustomMissile("KazumiNuclearMissileShotEx2",0,0,360-(user_lcounter*20),CMF_AIMDIRECTION|CMF_TRACKOWNER,-45)
		stop
	}
}

Actor NewDOOKNOOKMsilent : NuclearMissileExplosion
{
 +NoBlockmap
 +NoGravity
 +NoInteraction
 +ForceRadiusDmg
 DamageType "Normal"
 obituary "%o was absolutely rekt and sent into oblivion by %k's nuke!!!"
 States
 {
  Spawn:
   TNT1 A 0
   TNT1 AAAA 0 A_Explode(1000, 2048, 1)
   //TNT1 A 0 A_Quake(9, 210, 0, 1048576, "None")
   TNT1 A 0 A_SpawnItemEx("MegaNukeFlare", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
   TNT1 AAAAA 0 A_SpawnItemEx("MegaNukeSmokeFloor", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE)
   TNT1 A 0 A_SpawnItemEx("MegaNukeFloor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
   TNT1 A 0 A_SpawnItemEx("MegaNukeMushroom", 0, 0, 0, 0, 0, 10, 0, SXF_TRANSFERPOINTERS, 0)
   TNT1 A 1 A_SpawnItemEx("BoomHitPlayer",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
   TNT1 A 0 A_SpawnItemEx("MegaNukeFlareMushroom", 0, 0, 0, 0, 0, 10, 0, SXF_CLIENTSIDE, 0)
   TNT1 AA 0 A_SpawnItemEx("MegaNukeSmokeMushroom", 0, 0, 0, 0, 0, 10, 0, SXF_CLIENTSIDE, 0)
   TNT1 A 0 A_SpawnItemEx("MegaNukePillar", 0, 0, 0, 0, 0, 0, 12, SXF_TRANSFERPOINTERS, 0)
   TNT1 AA 0 A_SpawnItemEx("MegaNukeSmokePillar", 0, 0, 0, 0, 0, 12, 0, SXF_CLIENTSIDE, 0)
   Stop
 }
}


ACTOR BoomHitPlayer
{
	+NOGRAVITY
	+NOINTERACTION
	States
	{
	Spawn:
        TNT1 A 0 A_PlaySound("Weapons/YamatoBlast",6)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomShockwaveEx",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		//TNT1 A 0 A_SpawnItemEx("BoomSpinalCord",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomGroundSpin",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomExploder",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomShroom",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomBasis",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomShroomer",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomAfterBoomEffect",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 Radius_Quake(7, 165, 0, 140, 0)
        TNT1 A 165
        stop
	}
}


ACTOR PlayerBoomShockwaveEx
{
	+NOINTERACTION
	+NOCLIP
	+NOGRAVITY
	States
	{
	Spawn:
			TNT1 A 0
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("PlayerBoomExploder",0.1*random(10,-10),0.1*random(10,-10),0.1*random(10,-10),5*random(4.25,3.25),0.1*random(6,-6),0.1*random(6,-6),random(0,359),SXF_TRANSFERPOINTERS,0)
			TNT1 AAAAAAAA 0 A_SpawnItemEx("PlayerBoomAfterBoomEffect",0.1*random(10,-10),0.1*random(10,-10),0.1*random(10,-10),2.5*random(4.25,3.25),0.1*random(6,-6),0.1*random(6,-6),random(0,359),SXF_CLIENTSIDE,0)
			TNT1 A 0 A_SpawnItemEx("PlayerBoomShockwave",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
			TNT1 A 1
			Stop
	}
}

ACTOR PlayerBoomShockwave
{
	+NOINTERACTION
	+NOCLIP
	+NOGRAVITY
	States
	{
	Spawn:
			TNT1 A 0
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("PlayerBoomExploder",0.1*random(10,-10),0.1*random(10,-10),0.1*random(10,-10),5*random(4.25,3.25),0.1*random(6,-6),0.1*random(6,-6),random(0,359),SXF_TRANSFERPOINTERS,0)
			TNT1 AAAAAAAA 0 A_SpawnItemEx("PlayerBoomAfterBoomEffect",0.1*random(10,-10),0.1*random(10,-10),0.1*random(10,-10),2.5*random(4.25,3.25),0.1*random(6,-6),0.1*random(6,-6),random(0,359),SXF_CLIENTSIDE,0)
			TNT1 A 1
			Stop
	}
}

ACTOR PlayerBoomExplode
{
   Radius 8
   Height 8
   Speed 6
   Damage 0
   PROJECTILE
   RENDERSTYLE ADD
   DONTHURTSHOOTER
   Damagetype "Normal"
   +RIPPER
   +BLOODLESSIMPACT
   +DONTHARMSPECIES
   +EXTREMEDEATH
   +SPECTRAL  
   SeeSound "weapons/firex3"
   ALPHA 0.80
   States
   {
   Spawn:
	  TNT1 AAAAA 3 A_SpawnItemEX("FuelExplosion4",0,0,0,0,0,0,0,0,128)
      Stop
   }
}

ACTOR FuelExplosion4
{   
   Radius 5
   Height 5
   Speed 0
   Damage 0
   PROJECTILE
   Scale 4
   RENDERSTYLE ADD
   +SPECTRAL
   +NOGRAVITY
   +FORCERADIUSDMG
   +DONTHARMSPECIES
   +EXTREMEDEATH
   Damagetype "Normal"
   ALPHA 0.85
   SeeSound "weapons/firex3"
   States
   {
   Spawn:
      CBEX A 2 Bright
      CBEX B 2 Bright A_Explode(300,250)
      CBEX CDEFGHIJ 2 Bright
      stop
   }
}

ACTOR PlayerBoomExploder
{
	+NOGRAVITY
	+NOINTERACTION
	Renderstyle Add
	ReactionTime 25
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 4 A_SpawnItemEx("PlayerBoomExplode",random(-700,700),random(-700,700),15+random(-150,150),0,0,2+random(-2,2),0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomAfterFade
{
	+NOGRAVITY
	+NOINTERACTION
	+CLIENTSIDEONLY
	Renderstyle Add
	Scale 0.5
	States
	{
	Spawn:
	    TNT1 A 0
		TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
		YAE2 A 0
		TNT1 A 0 ThrustThingZ(0, 6, 0, 1)
		YAS2 AAA 1 Bright A_SpawnItemEx("BoomAfterFadeTrail",0,0,random(-5,5),random(-5,5),0,0,0,128,0)

		TNT1 A 0 ThrustThingZ(0, 4, 0, 1)
		YAS2 BBB 1 Bright A_SpawnItemEx("BoomAfterFadeTrail",0,0,random(-5,5),random(-5,5),0,0,0,128,0)

		TNT1 A 0 ThrustThingZ(0, 6, 0, 1)
        YAS2 CCC 1 Bright A_SpawnItemEx("BoomAfterFadeTrail",0,0,random(-5,5),random(-5,5),0,0,0,128,0)
        
		TNT1 A 0 ThrustThingZ(0, 4, 0, 1)
        YAS2 DDD 1 Bright A_SpawnItemEx("BoomAfterFadeTrail",0,0,random(-5,5),random(-5,5),0,0,0,128,0)
        
		TNT1 A 0 ThrustThingZ(0, 6, 0, 1)
        YAS2 EEE 1 Bright A_SpawnItemEx("BoomAfterFadeTrail",0,0,random(-5,5),random(-5,5),0,0,0,128,0)
        
		TNT1 A 0 ThrustThingZ(0, 4, 0, 1)
		YAS2 FFF 1 Bright A_SpawnItemEx("BoomAfterFadeTrail",0,0,random(-5,5),random(-5,5),0,0,0,128,0)
		Stop
    Toaster:
		TNT1 A 1 Bright
		Stop
	}
}

ACTOR PlayerBoomAfterBoomEffect
{
	+NOGRAVITY
	+NOINTERACTION
	+CLIENTSIDEONLY
	ReactionTime 120
	States
	{
	Spawn:
        	TNT1 A 0 A_Countdown
        	TNT1 A 1 A_SpawnItemEx("PlayerBoomAfterFade",0.1*random(-7000,7000),0.1*random(-7000,7000),15+random(-150,150),random(-20,20),random(-20,20),0,random(0,359),SXF_TRANSFERPOINTERS,0)
			Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomSpinalCord
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 80
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0, 2, 0, 1)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(8 + angle)
		TNT1 A 0 A_Countdown

		TNT1 A 0 ThrustThingZ(0, 2, 0, 1)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(8 + angle)
		TNT1 A 0 A_Countdown


		TNT1 A 0 ThrustThingZ(0, 2, 0, 1)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(8 + angle)
		TNT1 A 0 A_Countdown


		TNT1 A 0 ThrustThingZ(0, 2, 0, 1)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("PlayerBoomExplodeCord",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(8 + angle)
		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomExplodeCord : PlayerBoomExplode
{
	Speed 45
}

ACTOR PlayerBoomGroundSpin
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 120
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(6 + angle)
		TNT1 A 0 A_Countdown

		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(6 + angle)
		TNT1 A 0 A_Countdown


		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(6 + angle)
		TNT1 A 0 A_Countdown

		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,270,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,180,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,90,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 0 A_CustomMissile("BoomExplodeSpin",0,0,0,CMF_AIMDIRECTION|CMF_TRACKOWNER)
		TNT1 A 1 A_SetAngle(6 + angle)
		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomExplodeSpin : PlayerBoomExplode
{
	Speed 55
}

ACTOR PlayerBoomShroom
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 80
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0, 2, 0, 1)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomExplode",random(-200,200),random(-200,200),15+random(-70,70),0,0,2+random(-2,2),0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 1 A_SpawnItemEx("PlayerBoomExplode",random(-200,200),random(-200,200),15+random(-70,70),0,0,2+random(-2,2),0,SXF_TRANSFERPOINTERS,0)

		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("PlayerBoomAirplode",0,0,0,0,0,0,0,SXF_CLIENTSIDE,0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BoomExplode",frandom(-1000,1000),frandom(-1000,1000),15+frandom(-400,400),0,0,2+random(-2,2),0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomExploder",0,0,0,0,0,0,0,SXF_CLIENTSIDE,0)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomAfterboomEffectAir",0,0,0,0,0,0,0,SXF_CLIENTSIDE,0)
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomAirplode
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 95
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAA 0 A_SpawnItemEx("PlayerBoomExplode",0.1*frandom(-10000,10000),0.1*frandom(-10000,10000),15+frandom(-400,400),0,0,2+random(-2,2),0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 1 A_Countdown
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomAfterBoomEffectAir : PlayerBoomAfterBoomEffect
{
	ReactionTime 100
}

ACTOR PlayerBoomShroomer
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 8
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0, 16, 0, 1)
		TNT1 A 0 A_SpawnItemEx("PlayerBoomMidplode",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 10

		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomMidplode
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 25
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAA 0 A_SpawnItemEx("PlayerBoomAfterFade",0.1*frandom(-2000,2000),0.1*frandom(-2000,2000),15+frandom(-90,90),random(-20,20),random(-20,20),0,random(0,359),SXF_TRANSFERPOINTERS,0)
		TNT1 A 4 A_SpawnItemEx("PlayerBoomExplode",0.1*frandom(-2000,2000),0.1*frandom(-2000,2000),15+frandom(-90,90),0,0,2+random(-2,2),0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

ACTOR PlayerBoomBasis
{
	+NOGRAVITY
	+NOINTERACTION
	ReactionTime 4
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 ThrustThingZ(0, 8, 0, 1)
		TNT1 A 10 A_SpawnItemEx("PlayerBoomExploder",frandom(-300,300),frandom(-300,300),frandom(-150,150),0,0,0,0,SXF_TRANSFERPOINTERS,0)

		TNT1 A 0 A_Countdown
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("PlayerBoomAfterboomEffect",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS,0)
		TNT1 A 1
		Stop
	}
}

Actor VulnerabilityQuiet : CustomInventory
{  
-COUNTITEM
+INVENTORY.QUIET
+INVENTORY.UNDROPPABLE
+INVENTORY.ALWAYSPICKUP
+INVENTORY.AUTOACTIVATE
inventory.amount 1
inventory.maxamount 0
States
	{
	Pickup:
		TNT1 A 1
		TNT1 A 1 ACS_NamedExecuteAlways("Hem_NemesisAttack",0,1)
		Stop
	}
}
