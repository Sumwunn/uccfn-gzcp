ACTOR HackroidAssaultCaptain : LegendaryAssaultCaptain
{
    Health 4200
    Radius 20
    Height 56
    Speed 45
    PainChance 20
    MONSTER
	BloodColor "Red"
	DropItem "LegendaryBossLifeEssence" 256
	DropItem "LegendaryBossArmorBonusMax" 256
	DropItem "LegendaryBossLifeEssence" 256
	DropItem "LegendaryBossArmorBonusMax" 256
	DropItem "1337ASG" 140
    DropItem "HCKShell" 200 4
    DropItem "HCKShellBox" 200
	DropItem "LegAmmoSphere" 256 1
	DropItem "EnragedLegendaryArmor" 200
	DropItem "HandGrenadeAmmo" 235 2
	DropItem "MineAmmo" 240 2
	DropItem "Backpack" 256 1
	DropItem "AgilityRune" 200 1
	DropItem "LegendaryRune2" 200 1
    DropItem "LegendaryPowerShard" 200 1
    DropItem "EnragedLegendaryPowerShard" 200 1
	
	DropItem "HackroidArmor" 20 1
    DropItem "HackroidSphere" 20 1
	Species "Zombie"
    DamageFactor 0.2
    DamageFactor "LegendaryZombie", 0.4
    DamageFactor "PDTBFG", 0.5
    DamageFactor "PDTBFGTracer", 0.4
    DamageFactor "PlayerDevBall", 0.8
    DamageFactor "PlayerDevBall2", 0.8
    DamageFactor "PlayerDTBFGRailgunSlug", 0.75
    DamageFactor "PlayerDevTracer", 0.75
    DamageFactor "DBFG10K2", 0.5
    DamageFactor "PlayerDBFG10K2", 0.5
    DamageFactor "DBFG2", 0.5
    DamageFactor "PlayerDBFG2", 0.5
    DamageFactor "PlayerPyro", 0.08
    DamageFactor "Legendary", 0.4
    DamageFactor "Superweapon", 0.4
    DamageFactor "LegendaryPlayer", 0.4
    DamageFactor "PlayerNemesisPlasma", 0.4
    DamageFactor "Hackroid", 0.0
    +NOTIMEFREEZE
	+NOFEAR
	+BOSS
	+BOSSDEATH
	+FLOORCLIP
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+NOICEDEATH
	+NODROPOFF
	+NOTARGET
	+NORADIUSDMG
    SeeSound "HackroidAC/see"
    AttackSound "1337ASG/Fire"
    PainSound "HackroidAC/Pain"
    DeathSound "HackroidAC/Death"
    ActiveSound "HackroidAC/Active"
    Obituary "%o was Pulverized by an Hackroid Assault Captain"

    Tag "\c[i7]Hackroid Assault Captain\c-"
    States
    {
    Spawn:
    Idle:
	    TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG A 10 Bright A_Look
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG Z 10 Bright A_Look
        Loop
    See:
		TNT1 A 0 A_JumpIf(user_music == 1,3)
		TNT1 A 0 ACS_NamedExecuteAlways("StartMonsterMusic",0,3003)
		TNT1 A 0 A_SetUserVar("user_music",1)
	    TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG AA 4 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG BB 4 Bright A_Chase
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG CC 4 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG DD 4 Bright A_Chase
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_Jump(64,"Rush","DodgeLeft","DodgeRight","Chase")
		Loop
    Chase:
	    TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG AA 1 Bright A_FastChase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_Jump(1,"Heal")
		HASG A 0 A_JumpIfCloser(130,"Dodge")
		HASG AA 1 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG A 0 A_JumpIfCloser(130,"Dodge")
		HASG BB 1 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG A 0 A_JumpIfCloser(130,"Dodge")
		HASG BB 1 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG A 0 A_JumpIfCloser(150,"Dodge")
		HASG CC 1 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_Jump(10,"Heal")
		HASG A 0 A_JumpIfCloser(150,"Dodge")
		HASG CC 1 Bright A_FastChase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG A 0 A_JumpIfCloser(130,"Dodge")
		HASG DD 1 Bright A_FastChase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG A 0 A_JumpIfCloser(130,"Dodge")
		HASG DD 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG A 0 A_Jump(128,"Dodge")
		Loop
	Rush:
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostA",0,0,0,0,0,0,0,128)
		HASG A 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostA",0,0,0,0,0,0,0,128)
		HASG A 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("ELegASGZombieGhostB",0,0,0,0,0,0,0,128)
		HASG B 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostB",0,0,0,0,0,0,0,128)
		HASG B 1 Bright A_Chase
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostC",0,0,0,0,0,0,0,128)
		HASG C 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostC",0,0,0,0,0,0,0,128)
		HASG C 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostD",0,0,0,0,0,0,0,128)
		HASG D 1 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("HELegASGZombieGhostD",0,0,0,0,0,0,0,128)
		HASG D 1 Bright A_Chase
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_Jump(85,"See")
		Loop
   GrenadeAttack:
        TNT1 A 0 A_PlaySound("weapons/hgrenadepin",0,1.0,0)
		HASG CE 4 Bright A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/hgrenadethrow",0,1.0,0)
		HASG CE 4 Bright A_FaceTarget
		HASG E 1 Bright A_CustomMissile("ELACGrenade",32,0,0,2,4)
		HASG CE 4 Bright A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/hgrenadepin",0,1.0,0)
		HASG CE 4 Bright A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/hgrenadethrow",0,1.0,0)
	    HASG CE 4 Bright A_FaceTarget
		HASG E 1 Bright A_CustomMissile("ELACGrenade",32,0,0,2,4)
		Goto Rail
	Heal:
	    TNT1 A 0 A_SpawnItem("GHellionSmokeSpawner",0,0,0,0)
	    HASG A 5 Bright
		TNT1 A 0 A_SpawnItem("GHellionSmokeSpawner",0,0,0,0)
		TNT1 A 0 HealThing(5)
		TNT1 A 0 A_PlaySound("pickups/flask",0,1.0,0)
		GoTo See
	Heal2:
	    TNT1 A 0 A_SpawnItem("GHellionSmokeSpawner",0,0,0,0)
		HASG A 5 Bright
		TNT1 A 0 A_SpawnItem("GHellionSmokeSpawner",0,0,0,0)
		TNT1 A 0 HealThing(15)
		TNT1 A 0 A_PlaySound("pickups/pstimpack",0,1.0,0)
		GoTo See
	Heal3:
	    TNT1 A 0 A_SpawnItem("GHellionSmokeSpawner",0,0,0,0)
		HASG A 5 Bright
		TNT1 A 0 A_SpawnItem("GHellionSmokeSpawner",0,0,0,0)
		TNT1 A 0 HealThing(25)
		TNT1 A 0 A_PlaySound("pickups/pmedkit",0,1.0,0)
		GoTo See
	SeeNoDodge:
	    TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG AABB 2 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG CCDD 2 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG AABB 2 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG CCDD 2 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG AABB 2 Bright A_Chase
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		HASG CCDD 2 Bright A_Chase
		TNT1 A 0 A_SpawnItemEx("FootStep",0,0,2,0,0,-20)
		Goto Chase
	Dodge:
	    TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG A 1 Bright A_FaceTarget
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG E 0 ThrustThingZ(0, 20, 0, 0)
		HASG A 0 A_Jump(256, "DodgeRight", "DodgeLeft")
	DodgeLeft:
		HASG E 0 ThrustThing(angle*256/360+192, 15, 0, 0)
		TNT1 A 0 A_Jump(40,"Heal")
		TNT1 A 0 A_Jump(35,"Heal2")
		TNT1 A 0 A_Jump(30,"Heal3")
		Goto SeeNoDodge
	DodgeRight:
		HASG E 0 ThrustThing(angle*256/360+64, 15, 0, 0)
		TNT1 A 0 A_Jump(40,"Heal")
		TNT1 A 0 A_Jump(35,"Heal2")
		TNT1 A 0 A_Jump(30,"Heal3")
		Goto SeeNoDodge
   Missile:
        TNT1 A 0 A_SetShootable
        TNT1 A 0 A_UnsetInvulnerable
        TNT1 A 0 A_SetTranslucent(1)
		HASG E 3 Bright A_GiveInventory("LegZombieStrafingg",1)
		TNT1 A 0 A_GiveInventory("LegZombieStrafingg",1)
        TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG E 4 Bright A_FaceTarget
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")
	    HASG E 4 Bright A_FaceTarget
		TNT1 A 0 Bright A_CPosRefire
        TNT1 A 0 A_Jump(6,"Heal")
        TNT1 A 0 A_Jump(5,"Heal2")
        TNT1 A 0 A_Jump(4,"Heal3")
		TNT1 A 0 A_Jump(10,"Grenade")
        TNT1 A 0 A_JumpIfCloser(300,"Grenade")
        Goto Missile+4
	Rail:
		HASG E 4 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
	    TNT1 A 0 A_FaceTarget 
		TNT1 A 0 A_PlaySound("1337ASG/Fire",5)
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")		
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")		
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")
		HASG E 4 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
	    TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		TNT1 A 0 A_FaceTarget 
		TNT1 A 0 A_PlaySound("1337ASG/Fire",5)
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")		
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")		
		TNT1 A 0 A_SpawnItemEx("RedShellCasing", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 AAAA 0 Bright A_CustomMissile("1337SGTracer",Random(28,34),0,Random(6,-6),0)
		HASG F 2 Bright A_CustomBulletAttack(22.5,18.3,4,Random(5,15)*6,"1337ModdedBulletPuff")
		Goto See
	Strafing:
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_Chase("","Missile",CHF_DONTMOVE)
	    HASG AA 3 Bright A_GiveInventory("LegZombieStrafingg",1)
		TNT1 A 0 A_Chase("","Missile",CHF_DONTMOVE)
		HASG BB 3 Bright A_GiveInventory("LegZombieStrafingg",1)
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		TNT1 A 0 A_Chase("","Missile",CHF_DONTMOVE)
		HASG CC 3 Bright A_GiveInventory("LegZombieStrafingg",1)	
		TNT1 A 0 A_Chase("","Missile",CHF_DONTMOVE)
		HASG DD 3 Bright A_GiveInventory("LegZombieStrafingg",1)
		Goto See
	Grenade:
		TNT1 A 0 A_PlaySound("weapons/hgrenadepin",0,1.0,0)
		HASG CE 4 Bright A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/hgrenadethrow",0,1.0,0)
		HASG E 1 Bright A_CustomMissile("HELACGrenade",32,0,0,2,4)
		Goto GrenadeAttack
    Reload:
    	TNT1 A 0 A_ChangeFlag("NoPain", 1)
    	TNT1 A 0 A_PlaySound("lasgguy/asgout")
		TNT1 A 0 A_SpawnItemEx("LegendaryEmptyDrumSpawner", -8, 7, 30, 4, 0, (0.1)*Random(30, 40), Random(-80, -90), 128)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
    	HASG E 8 Bright A_PlaySound("lasgguy/asgin") 
		HASG E 20 Bright A_PlaySound("LShotgun/Cock")
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
    	TNT1 A 0 A_ChangeFlag("NoPain", 0)
    	Goto See
    Pain:
	    TNT1 A 0 A_Jump(20,"Protection")
	    TNT1 A 0 A_Jump(192,"PainMissile")
        HASG G 3 Bright
        HASG G 3 Bright A_Pain
		TNT1 A 0 A_Jump(40,"Dodge")
        Goto See
    PainMissile:
        HASG G 3 Bright
        HASG G 3 Bright A_Pain
        Goto Missile	
    Protection:
		TNT1 A 0 A_JumpIf(user_protection >= 3,"Pain")
		TNT1 A 0 A_JumpIf(user_protected == 1,"Pain")
		TNT1 A 0 A_PlaySound("legendary/defense")
		TNT1 A 0 A_FaceTarget
		HASG E 2 Bright ACS_NamedExecuteAlways("EnragedLegendaryProtection",0,0,0,0)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		Goto See
    Death:
	    TNT1 A 0 A_StopSound(6)
		//TNT1 A 0 A_Jump(36,"LegendarySoul")
        HASG H 5
        HASG I 5 A_Scream
        HASG J 5 A_Fall
		HASG J 5 A_SpawnItem("BodyCrash",0,0,0,0)
        HASG K 5
        HASG L -1
        Stop
	LegendarySoul:
	    TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG H 5
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG I 5 A_Scream
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG J 5 A_Fall
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG J 5 A_SpawnItem("BodyCrash",0,0,0,0)
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
        HASG K 5
		TNT1 A 0 A_SpawnItem("RandomHellionSmoke",0,0,0,0)
		HASG L 140
		HASG L 0 A_PlaySoundEx("brain/spit","Voice",0,2)
		HASG LLLLLLLLLLLLLLLLL 2 Bright A_GiveInventory("ELegSoulEvent",1)
		HASG LLLLLLLLLLLLLLLLL 2 Bright A_GiveInventory("ELegSoulEvent",1)
		HASG LLLLLLLLLLLLLLLLL 2 Bright A_GiveInventory("ELegSoulEvent",1)
		TNT1 A 0 A_SpawnItemEx("HackroidSoul",0,0,16,0,0,0,0,32)
		TNT1 A 0 A_SpawnItemEx("TeleportFog",0,0,16,0,0,0,0,32)
		HASG L -1
        Stop
    XDeath:
	    TNT1 A 0 A_StopSound(6)
        HASG O 5 
        HASG P 5 A_XScream
        HASG Q 5 A_Fall
        HASG RSTUV 5
        HASG W -1
        Stop
    }
}

ACTOR HELegASGZombieGhostA : LegASGZombieGhostA
{
States
{
Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
Fade:
    TNT1 A 1
    HASG A 2 A_FadeOut(0.10)
    Goto Fade+1
Toaster:
    TNT1 A 0
    Stop
    }
}

ACTOR HELegASGZombieGhostB : ELegASGZombieGhostA
{   
States
{
Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
Fade:
    TNT1 A 1
    HASG B 2 A_FadeOut(0.10)
    Goto Fade+1
Toaster:
    TNT1 A 0
    Stop
    }
}

ACTOR HELegASGZombieGhostC : ELegASGZombieGhostA
{   
States
{
Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
Fade:
    TNT1 A 1
    HASG C 2 A_FadeOut(0.10)
    Goto Fade+1
Toaster:
    TNT1 A 0
    Stop
    }
}

ACTOR HELegASGZombieGhostD : ELegASGZombieGhostA
{   
States
{
Spawn:
    TNT1 A 0
    TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(304) == 1, "Toaster")
Fade:
    TNT1 A 1
    HASG D 2 A_FadeOut(0.10)
    Goto Fade+1
Toaster:
    TNT1 A 0
    Stop
    }
}


Actor HELegCaptainRail : DarkCyberRail
{
Damage (Random(50,78))
Species "Zombies"
MissileType "ELegRevRailgunTrail"
+NOTIMEFREEZE
States
{
Spawn:
    TNT1 A 1
    Loop
Death:
	TNT1 A 1 A_SpawnItem("RailgunImpact")
	Stop
	}
}